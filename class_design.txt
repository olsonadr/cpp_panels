#include <iostream>
#include "Panel.hpp"
class Window {
	private:
		int width;
		int height;
		Panel ** panels;	/* Panels in the window */
		int n_panels;
		void grow_panels();

	public:
		// Constructors + Destructors + Operators
		Window(int width, int height);
		Window(const & Window old_window);
		operator=(const & Window old_window);
		~Window();
		
		// Methods
		void update();
		void add(Panel &new_panel);
};


class Element {
	protected:
		struct int_duple {
			int x;
			int y;
		};
		struct int_duple pos;
		bool is_visible;
		char * type;
		char * name;

	public:
		struct int_duple get_pos() { return this->pos; }
		void toggle_visible() { this->is_visible = !(this->is_visible); }
		bool is_visible() { return this->is_visible; }
		char * get_type() { return this->type; }
		char * get_name() { return this->name; }
};


#include "Element.hpp"
class Panel : protected Element {
	protected:
		// Fields (inherits pos and is_visible)
		struct int_duple dim;
		Element ** members; 		/* Dynamic array of Element pointers */
		int n_members;
		char ** compiled_char_arr; 	/* Dynamic 2D arr of Chars compiled */
		bool has_changed;		/* Whether the Panel needs to update the components */
		
		// Methods
		void grow_members(); 		/* Increases size of members array (if a new element would be out of bounds) */
		void reset();			/* Resets the compiled arr to blank (has_changed) */

	public:
		// Constructors + Destructors + Operators
		Panel(int x, int y, int width, int height, char * name = "Panel"); 		/* Empty members, new Panel */
		Panel(struct int_duple pos, int width, int height, char * name = "Panel"); 	/* Empty members, new Panel */
		Panel(struct int_duple pos, struct int_duple dim, char * name = "Panel"); 	/* Empty members, new Panel */
		Panel(const & Panel old_panel);							/* Copy constructor */
		operator=(const & Panel old_panel);						/* Overloaded assignment */
		~Panel();

		// Accessors
		struct int_duple get_dim() { return this->dim; }
		
		// Mutators
		void add(Element * element);
		void add(Element &element);
		void remove(int index);

		// Misc
		Element ** compile();
};


#include "Element.hpp"
class Label : protected Element {
	protected:
		// Inherits pos and is_visible
		char * str;
		int len;

	public:
		// Constructors + Destructors
		Label(int x, int y, const * char str, bool is_vertical = false, char * name = "Label"); 		/* Set Label, int coords */
		Label(struct int_duple pos, const * char str, bool is_vertical = false, char * name = "Label"); 	/* Set Label, duple coords */
		Label(int x, int y, bool is_vertical = false, char * name = "Label"); 					/* Empty Label, int coords */
		Label(struct int_duple pos, bool is_vertical = false, char * name = "Label"); 				/* Empty Label, duple coords */
		Label(const & Label old_label);										/* Copy constructor */
		operator=(const & Label old_label);									/* Overloaded assignment */

		// Accessors + Mutators
		void set_str(const char * new_val, bool is_vertical = false);
		void get_str()
};




#------------------------------------------------------+--------------------------------#
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|        ZOO SCREEN                                    |                                |
|                                                      |        RECEIPT                 |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|                                                      +--------------------------------+
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
+------------------------------------------------------+                                |
|                                                      |       POSSIBLE RECEIPT         |
|                                                      |            SPACE               |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
#------------------------------------------------------+--------------------------------#


+--------------------------------#
|           Expenses:            |
+--------------------------------+
| Sloths (num)           -xxxxxx |
| --> Food                  -xxx |
| --> Medicine             -xxxx |
|                                |
| Monkeys (num)          -xxxxxx |
| --> Food                  -xxx |
| --> Medicine             -xxxx |
|                                |
| Otters (num)           -xxxxxx |
| --> Food                  -xxx |
| --> Medicine             -xxxx |
|                                |
| Total                 -xxxxxxx |
+--------------------------------+
|           Revenues:            |
+--------------------------------+
| Sloths (num)            xxxxxx |
| Monkeys (num)          xxxxxxx |
| Otters (num)            xxxxxx |
|                                |
| Total                   xxxxxx |
+--------------------------------+
|           Combined:            |
+--------------------------------+
| Total                   xxxxxx |
+--------------------------------+



#------------------------------------------------------+--------------------------------#
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
|      #-------------------------------------------------------------------------#      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
|      |                                                                         |      |
+------|                                                                         |      |
|      |                                                                         |      |
|      #-------------------------------------------------------------------------#      |
|                                                      |                                |
|                                                      |                                |
|                                                      |                                |
#------------------------------------------------------+--------------------------------#
